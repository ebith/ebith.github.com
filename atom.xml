<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[おいら屋ファクトリー]]></title>
  <link href="http://blog.feelmy.net/atom.xml" rel="self"/>
  <link href="http://blog.feelmy.net/"/>
  <updated>2013-06-01T23:46:30+09:00</updated>
  <id>http://blog.feelmy.net/</id>
  <author>
    <name><![CDATA[ebith]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Nginxでちょっと高度なクライアント認証する]]></title>
    <link href="http://blog.feelmy.net/2013/06/01/nginx-ssl-client-authentication/"/>
    <updated>2013-06-01T23:30:00+09:00</updated>
    <id>http://blog.feelmy.net/2013/06/01/nginx-ssl-client-authentication</id>
    <content type="html"><![CDATA[<p>前にやった<a href="http://blog.feelmy.net/2013/04/05/self-signed-certificate/">オレオレ認証局をたててオレオレ証明書を発行する</a>からもう一歩進む。</p>

<h2>証明書の中身で分岐したい</h2>

<p><code>$ssl_client_s_dn</code>にSubject(発行対象)、<code>$ssl_client_i_dn</code>にIssuer(発行者)の情報が入っていて、それぞれCN(Common Name), O(Organization)が含まれているのでこれらを見てよしなにする。</p>

<h3>Common Nameにebithが含まれていない場合403 Forbiddenを返す</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='nginx'><span class='line'><span class="k">ssl</span> <span class="no">on</span><span class="p">;</span>
</span><span class='line'><span class="k">ssl_certificate</span> <span class="s">server.crt</span><span class="p">;</span>
</span><span class='line'><span class="k">ssl_certificate_key</span> <span class="s">sever.key</span><span class="p">;</span>
</span><span class='line'><span class="k">ssl_verify_client</span> <span class="no">on</span><span class="p">;</span>
</span><span class='line'><span class="k">ssl_client_certificate</span> <span class="s">cacert.pem</span><span class="p">;</span>
</span><span class='line'><span class="k">if</span> <span class="s">(</span><span class="nv">$ssl_client_s_dn</span> <span class="s">!~</span> <span class="s">&quot;CN=ebith&quot;)</span> <span class="p">{</span>
</span><span class='line'>  <span class="kn">return</span> <span class="mi">403</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>ルート証明書のインポートをお願いできる仲間内だと警告無しで正規のSSLと変わらない使い勝手でお手軽に暗号化できるし、今回のようにクライアント認証も使えば更に便利なので素晴らしい。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[今月買ったゲーム]]></title>
    <link href="http://blog.feelmy.net/2013/05/31/bought-games/"/>
    <updated>2013-05-31T04:28:00+09:00</updated>
    <id>http://blog.feelmy.net/2013/05/31/bought-games</id>
    <content type="html"><![CDATA[<h2>Kingdoms of Amalur: Reckoning + 2DLC ¥892</h2>

<p>DLC目的で購入。余った本体は300円で売った。</p>

<h2>Bundle Stars #7 &#8220;Indie Jam2&#8221; ¥514</h2>

<p>安い時に買いたいと思っていたTwo Worlds IIが入ってたので。</p>

<h2>Skyrim DLCs Heathfire(¥255), Dawnguard(¥1021), Dragonborn(¥1021) ¥2297</h2>

<p>DLCのリリース終了で買い時っぽかった。</p>

<h2>Hitman: Absolution ¥518</h2>

<p>ゲームとしてはHitmanじゃないらしいけどすっげー安いので買っといた。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[TwitterのtimelineからURLを抽出してRSSにするの作った]]></title>
    <link href="http://blog.feelmy.net/2013/05/20/feedline/"/>
    <updated>2013-05-20T01:30:00+09:00</updated>
    <id>http://blog.feelmy.net/2013/05/20/feedline</id>
    <content type="html"><![CDATA[<h2><a href="https://github.com/ebith/feedline" title="ebith/feedline · GitHub">feedline</a></h2>

<p>CrowsnestとかGunosyみたいな便利っぽいのもあるけど、<br/>
単にタイムラインに流れてきたURLを後からフィードリーダーで見たかったので作った。</p>

<p><a href="http://www.flickr.com/photos/ebith/8766575214/" title="feedline02 by Ebith, on Flickr"><img src="http://farm9.staticflickr.com/8257/8766575214_12bfe1e912_n.jpg" width="320" height="293" alt="feedline02"></a><br/>
こんな感じで読める。</p>

<p>config.coffee.sampleを参考にconfig.coffeeを用意して、<code>npm install</code>すればあとは起動するだけ。<br/>
<code>forever start -c coffee app.coffee</code>とか後が楽なのでオススメ。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[今月遊んだゲーム]]></title>
    <link href="http://blog.feelmy.net/2013/04/28/played-games/"/>
    <updated>2013-04-28T00:15:00+09:00</updated>
    <id>http://blog.feelmy.net/2013/04/28/played-games</id>
    <content type="html"><![CDATA[<h2>Kingdoms of Amalur: Reckoning ¥310</h2>

<p>正統派のアクションRPG。続編があれば更に面白そうだけど出ようが無いのが悲しい。これやってるとSkyrimやりたくなる。<br/>
インベントリとかスキルツリーのシステムがイマイチなのが惜しい。</p>

<h2><a href="http://steamcommunity.com/app/221380">Age of Empires II: HD Edition</a> ¥1469</h2>

<p>まじ名作。Steamからさくっとフレンド誘ってマルチプレイできるの素晴らしい。<br/>
バグいっぱいのままリリースしてて残念な感じになってる。</p>

<h2><a href="http://steamcommunity.com/app/230410">Warframe</a> F2P</h2>

<p>SF NinjaなMOTPS、F2Pのゲームでオープンベータ中。翻訳途中だけど日本語もあるしTPSのCoopゲーとしても悪くないできっぽい。</p>

<h2><a href="http://tera.hangame.co.jp/">TERA</a> F2P</h2>

<p>DDOより更にTPS寄りで珍しい。ゲーム自体は今となってはごく普通というかありふれた感じする。<br/>
インストーラーがクソだし、キーバインディング変更ソフトとかを終了させないと遊べないのも酷い。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[オレオレ認証局をたててオレオレ証明書を発行する]]></title>
    <link href="http://blog.feelmy.net/2013/04/05/self-signed-certificate/"/>
    <updated>2013-04-05T06:54:00+09:00</updated>
    <id>http://blog.feelmy.net/2013/04/05/self-signed-certificate</id>
    <content type="html"><![CDATA[<h2>概要</h2>

<ul>
<li>CA.(sh|pl)を使わず、openssl.cnfの変更も最小限で済ます</li>
<li>オレオレ認証局の証明書をブラウザに登録して警告が出ないようにする</li>
<li>ワイルドカードなサーバー証明書を作る</li>
<li>クライアント証明書も作る</li>
</ul>


<h2>下準備</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>sudo cp /etc/ssl/openssl.cnf /etc/ssl/openssl.cnf.orig
</span><span class='line'>vi /etc/ssl/openssl.cnf
</span><span class='line'>  -dir            <span class="o">=</span> ./demoCA
</span><span class='line'>  +dir            <span class="o">=</span> .
</span><span class='line'>
</span><span class='line'>  +<span class="o">[</span> feelmy_net <span class="o">]</span>
</span><span class='line'>  +subjectAltName <span class="o">=</span> DNS:feelmy.net,DNS:*.feelmy.net
</span></code></pre></td></tr></table></div></figure>


<h2>ルート証明書を作る</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>mkdir ca
</span><span class='line'><span class="nb">cd </span>ca
</span><span class='line'>touch index.txt
</span><span class='line'><span class="nb">echo </span>01 &gt; serial
</span><span class='line'>mkdir newcerts private
</span><span class='line'>openssl req -new -newkey rsa:2048 -keyout private/cakey.pem -out careq.pem
</span><span class='line'>  Country Name <span class="o">(</span>2 letter code<span class="o">)</span> <span class="o">[</span>AU<span class="o">]</span>:JP
</span><span class='line'>  State or Province Name <span class="o">(</span>full name<span class="o">)</span> <span class="o">[</span>Some-State<span class="o">]</span>:Nara
</span><span class='line'>  Organization Name <span class="o">(</span>eg, company<span class="o">)</span> <span class="o">[</span>Internet Widgits Pty Ltd<span class="o">]</span>:Oiraya Factory
</span><span class='line'>  Common Name <span class="o">(</span>e.g. server FQDN or YOUR name<span class="o">)</span> <span class="o">[]</span>:CA
</span><span class='line'>chmod 400 private/cakey.pem
</span><span class='line'>
</span><span class='line'>openssl ca -in careq.pem -out cacert.pem -selfsign -days 3650 -extensions v3_ca -batch
</span><span class='line'>rm careq.pem
</span><span class='line'>chmod 444 cacert.pem newcerts/01.pem
</span></code></pre></td></tr></table></div></figure>


<h2>サーバー証明書を作る</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>openssl req -new -newkey rsa:2048 -nodes -keyout cert.key -out cert.csr
</span><span class='line'>  Country Name <span class="o">(</span>2 letter code<span class="o">)</span> <span class="o">[</span>AU<span class="o">]</span>:JP
</span><span class='line'>  State or Province Name <span class="o">(</span>full name<span class="o">)</span> <span class="o">[</span>Some-State<span class="o">]</span>:Nara
</span><span class='line'>  Organization Name <span class="o">(</span>eg, company<span class="o">)</span> <span class="o">[</span>Internet Widgits Pty Ltd<span class="o">]</span>:Oiraya Factory
</span><span class='line'>  Common Name <span class="o">(</span>e.g. server FQDN or YOUR name<span class="o">)</span> <span class="o">[]</span>:*.feelmy.net
</span><span class='line'>openssl ca -in cert.csr -out cert.crt -days 3650 -extensions feelmy_net -batch
</span><span class='line'>rm cert.csr
</span><span class='line'>chmod 400 cert.key
</span><span class='line'>chmod 444 cert.crt
</span></code></pre></td></tr></table></div></figure>


<h2>クライアント証明書を作る</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>openssl req -new -newkey rsa:2048 -nodes -keyout client.key -out client.csr
</span><span class='line'>  Country Name <span class="o">(</span>2 letter code<span class="o">)</span> <span class="o">[</span>AU<span class="o">]</span>:JP
</span><span class='line'>  State or Province Name <span class="o">(</span>full name<span class="o">)</span> <span class="o">[</span>Some-State<span class="o">]</span>:Nara
</span><span class='line'>  Organization Name <span class="o">(</span>eg, company<span class="o">)</span> <span class="o">[</span>Internet Widgits Pty Ltd<span class="o">]</span>:Oiraya Factory
</span><span class='line'>  Common Name <span class="o">(</span>e.g. server FQDN or YOUR name<span class="o">)</span> <span class="o">[]</span>:ebith
</span><span class='line'>openssl ca -in client.csr -out client.crt -days 3650 -extensions feelmy_net -batch
</span><span class='line'>openssl pkcs12 -export -in client.crt -inkey client.key -out client.p12
</span><span class='line'>rm client.csr client.crt client.key
</span><span class='line'>chmod 400 client.p12
</span></code></pre></td></tr></table></div></figure>


<h2>雑感とか</h2>

<p>今思うとディレクトリは名前の変更にとどめたほうがファイルがごちゃっとならなくて良かったっぽい。<br/>
普通にCommon Nameを*.feelmy.netにして証明書を作るとfeelmy.netで通用しない。<br/>
それを突破するにはSubject Alternative Nameを使うしかないっぽいけどSANを使うとopenssl.cnfの編集を避けられないようでつらい。</p>

<p>作った証明書類はこんな感じにリネームしといた。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>mv cacert.pem oiraya-ca.pem
</span><span class='line'>mv cert.key feelmy.net.key
</span><span class='line'>mv cert.crt feelmy.net.crt
</span><span class='line'>mv client.p12 feelmy.net.p12
</span></code></pre></td></tr></table></div></figure>


<h2>参考にしたとこ</h2>

<ul>
<li><a href="http://www.tietew.jp/2007/01/30/how-to-setup-ca-using-openssl" title="OpenSSLでオレオレ認証局を立ち上げる | www.tietew.jp">OpenSSLでオレオレ認証局を立ち上げる | www.tietew.jp</a></li>
<li><a href="http://www.daily-labo.com/ygg16_3.html" title="クライアント証明書の発行">クライアント証明書の発行</a></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[今月遊んだゲーム]]></title>
    <link href="http://blog.feelmy.net/2013/03/29/played-games/"/>
    <updated>2013-03-29T00:00:00+09:00</updated>
    <id>http://blog.feelmy.net/2013/03/29/played-games</id>
    <content type="html"><![CDATA[<h2><a href="http://store.steampowered.com/app/23530">Earth Defense Force: Insect Armageddon</a> ¥185</h2>

<p>オンラインCoopがある地球防衛軍。</p>

<h2><a href="http://store.steampowered.com/agecheck/app/202170/">Sleeping Dogs</a> ¥723</h2>

<p>面白くないわけじゃないけどGTAで良いやんという結論。</p>

<h2><a href="http://amazon.jp/dp/B00A8E0L4S?tag=ebith-22">マクロス30 銀河を繋ぐ歌声</a> ¥6722</h2>

<p>でかい画面でバルキリー動かせるの楽しい。機体も豊富。アクションRPGであることを受け入れられるなら楽しめる。<br/>
50時間で2回フリーズした。低い空、機体ステータスの一部が見られない、インベントリの容量が小さすぎる、ちゃちなダンジョン、荒い機体テクスチャなど残念な仕様や要素も多い。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[今月遊んだゲーム]]></title>
    <link href="http://blog.feelmy.net/2013/02/28/played-games/"/>
    <updated>2013-02-28T22:00:00+09:00</updated>
    <id>http://blog.feelmy.net/2013/02/28/played-games</id>
    <content type="html"><![CDATA[<h2><a href="http://store.steampowered.com/app/204100">Max Payne 3</a> ¥1310</h2>

<p>高めの難易度とバレットタイムのシステムがチグハグに感じた。格好良く飛び出すと死ぬ。<br/>
GfWLと似たようなRockstar Games Social Clubがダルい、グラフィックが妙に安っぽい。</p>

<h2><a href="http://store.steampowered.com/app/50650">Darksiders II</a> ¥1243</h2>

<p>主人公の見た目や装備が中二心をくすぐる。デスさんまじ良い人。<br/>
攻撃の種類は数少ないので戦闘は単調になりがち。パズル要素がやや多いのは好みが分かれそう。</p>

<h2><a href="http://amazon.jp/o/ASIN/B0095D6I86?tag=ebith-22">METAL GEAR RISING: REVENGEANCE</a> ¥5699</h2>

<p>雷電まじかっこいい。複雑過ぎないシステムで面白い。雷電このあとどうなんの…<br/>
ボリューム不足で出てくるキャラ達即退場or空気。口の動き英語なの気になる。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Tiarraのログをブラウザから見たり検索したりできるやつ作った]]></title>
    <link href="http://blog.feelmy.net/2013/02/15/tlv-js/"/>
    <updated>2013-02-15T22:00:00+09:00</updated>
    <id>http://blog.feelmy.net/2013/02/15/tlv-js</id>
    <content type="html"><![CDATA[<h2><a href="https://github.com/ebith/TLV.js" title="ebith/TLV.js · GitHub">TLV.js</a></h2>

<p><a href="http://www.flickr.com/photos/ebith/8475029653/" title="tlv01 by Ebith, on Flickr"><img src="http://farm9.staticflickr.com/8111/8475029653_055048fbb4_n.jpg" width="320" height="240" alt="tlv01"></a>
<a href="http://www.flickr.com/photos/ebith/8475029689/" title="tlv02 by Ebith, on Flickr"><img src="http://farm9.staticflickr.com/8246/8475029689_ba2e947ac5_n.jpg" width="320" height="240" alt="tlv02"></a><br/>
画像はTwitterのPublic TimelineをIRCのログ代わりにしたやつ。<br/>
古いログをひたすら継ぎ足して表示したり、検索したり、とある日のログを読んだりできる。</p>

<h2>試してみる</h2>

<p>MongoDBは動いてる前提。インストールするなら<a href="http://docs.mongodb.org/manual/installation/" title="Installing MongoDB — MongoDB Manual">Installing MongoDB</a>が詳しい。<br/>
Mongo.pmをtiarraPath/module/Log/に配置、confの例は以下に。<br/>
必要に応じて<code>cpanm MongoDB</code>したのち<code>/load</code>か再起動でMongo.pmを読み込む。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>+ Log::Mongo {
</span><span class='line'>  charset: utf8
</span><span class='line'>  channel: *
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>Node.jsとcoffee-scriptが入っていれば<code>npm install</code>して<code>coffee app.coffee</code>で動き出す。<br/>
http://localhost:3000にアクセス！</p>

<h2>その他</h2>

<p>環境変数NODE_ENVを<code>production</code>に設定するとSSL+BASIC認証で起動する。_run.sh参照。<br/>
あとから見返したいチャンネルが1つだけだったのでチャンネル名を考慮していない。全部混ざって表示されるはず。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[HubotでIRC Botを作る]]></title>
    <link href="http://blog.feelmy.net/2013/02/03/hubot-irc/"/>
    <updated>2013-02-03T01:09:00+09:00</updated>
    <id>http://blog.feelmy.net/2013/02/03/hubot-irc</id>
    <content type="html"><![CDATA[<h2>Node.jsのインストールと下準備</h2>

<p>Node.jsの管理には<a href="https://github.com/hokaccha/nodebrew" title="hokaccha/nodebrew · GitHub">Nodebrew</a>を使う。<br/>
Readmeに従ってインストールして、Nodebrew経由でNodeのバイナリを入れる。<br/>
更にcoffee-script必要らしいのとforeverあると便利らしいので入れとく。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>nodebrew install-binary stable
</span><span class='line'>nodebrew use v0.8.17
</span><span class='line'>npm install -g forever
</span><span class='line'>npm install -g coffee-script
</span></code></pre></td></tr></table></div></figure>


<h2>Bot作る</h2>

<p>フォルダ構成はこんなの。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>bot/
</span><span class='line'>├── node_modules
</span><span class='line'>├── scripts
</span><span class='line'>│   ├── colorful-ping.coffee
</span><span class='line'>│   ├── config.coffee
</span><span class='line'>│   ├── fetch-title.coffee
</span><span class='line'>│   ├── rating.coffee
</span><span class='line'>│   ├── reddit-gamedeals.coffee
</span><span class='line'>│   ├── upgrade.coffee
</span><span class='line'>│   └── vpn-manager.coffee
</span><span class='line'>├── hubot-scripts.json
</span><span class='line'>├── package.json
</span><span class='line'>└── run.sh
</span></code></pre></td></tr></table></div></figure>


<p>こんな感じにpackage.json書いてnpm installするとややこしいことなくインストール完了。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='json'><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;ebithubot&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;0.0.1&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="nt">&quot;dependencies&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class='line'>    <span class="nt">&quot;hubot&quot;</span><span class="p">:</span> <span class="s2">&quot;2.3.5&quot;</span><span class="p">,</span>
</span><span class='line'>    <span class="nt">&quot;hubot-irc&quot;</span><span class="p">:</span> <span class="s2">&quot;0.1.4&quot;</span><span class="p">,</span>
</span><span class='line'>    <span class="nt">&quot;hubot-scripts&quot;</span><span class="p">:</span> <span class="s2">&quot;2.2.2&quot;</span><span class="p">,</span>
</span><span class='line'>
</span><span class='line'>    <span class="nt">&quot;cron&quot;</span><span class="p">:</span> <span class="s2">&quot;*&quot;</span><span class="p">,</span>
</span><span class='line'>    <span class="nt">&quot;request&quot;</span><span class="p">:</span> <span class="s2">&quot;*&quot;</span><span class="p">,</span>
</span><span class='line'>    <span class="nt">&quot;iconv-jp&quot;</span><span class="p">:</span> <span class="s2">&quot;*&quot;</span><span class="p">,</span>
</span><span class='line'>    <span class="nt">&quot;request&quot;</span><span class="p">:</span> <span class="s2">&quot;*&quot;</span><span class="p">,</span>
</span><span class='line'>    <span class="nt">&quot;cheerio&quot;</span><span class="p">:</span> <span class="s2">&quot;*&quot;</span><span class="p">,</span>
</span><span class='line'>    <span class="nt">&quot;aws-sdk&quot;</span><span class="p">:</span> <span class="s2">&quot;*&quot;</span><span class="p">,</span>
</span><span class='line'>    <span class="nt">&quot;ntwitter&quot;</span><span class="p">:</span> <span class="s2">&quot;*&quot;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>あとは好きなだけスクリプトを書いてBotの機能強化に励む。<br/>
<a href="https://github.com/github/hubot/tree/master/src/scripts" title="hubot/src/scripts at master · github/hubot · GitHub">Hubot付属のscript</a>が良い例。</p>

<h2>運用において</h2>

<p>スクリプトのリロード機能が無くて、毎回再起動するしかないのでIRC Proxy無しでの運用は厳しい。<br/>
かといって普段使いのProxyに繋ぐと入ってるチャンネル全部のメッセージを処理対象にしてしまうのでイマイチ。</p>

<h3>起動スクリプト</h3>

<p>設定類は環境変数で行うのが基本らしいのでシェルスクリプトに<code>export</code>を並び立てる。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="c">#!/usr/bin/env bash</span>
</span><span class='line'>
</span><span class='line'><span class="c"># hubot</span>
</span><span class='line'><span class="nb">export </span><span class="nv">PORT</span><span class="o">=</span>8889
</span><span class='line'>
</span><span class='line'><span class="c"># hubot-irc</span>
</span><span class='line'><span class="nb">export </span><span class="nv">HUBOT_IRC_UNFLOOD</span><span class="o">=</span><span class="s2">&quot;true&quot;</span>
</span><span class='line'><span class="nb">export </span><span class="nv">HUBOT_IRC_NICK</span><span class="o">=</span><span class="s2">&quot;ebithubot&quot;</span>
</span><span class='line'><span class="nb">export </span><span class="nv">HUBOT_IRC_PORT</span><span class="o">=</span><span class="s2">&quot;6669&quot;</span>
</span><span class='line'><span class="nb">export </span><span class="nv">HUBOT_IRC_SERVER</span><span class="o">=</span><span class="s2">&quot;localhost&quot;</span>
</span><span class='line'><span class="nb">export </span><span class="nv">HUBOT_IRC_ROOMS</span><span class="o">=</span><span class="s2">&quot;#ebithubot&quot;</span>
</span><span class='line'>
</span><span class='line'>forever start -c coffee node_modules/hubot/bin/hubot -a irc
</span></code></pre></td></tr></table></div></figure>


<h3>Notice使いたい</h3>

<p><a href="http://blog.fumiz.me/2012/08/05/hubot-irc-bot-script/#notice" title="hubotスクリプトの書き方とサンプル集 | mitc">hubotスクリプトの書き方とサンプル集 | mitc</a>によると互換性のために削除されたらしい。<br/>
hubot-ircにパッチを当てて復活させる。v0.1.4向け。</p>

<div><script src='https://gist.github.com/4505583.js'></script>
<noscript><pre><code>diff --git a/src/irc.coffee b/src/irc.coffee
index 1cd6be3..dbfb495 100644
--- a/src/irc.coffee
+++ b/src/irc.coffee
@@ -5,6 +5,12 @@
 Irc = require 'irc'
 
 class IrcBot extends Adapter
+  constructor: (@robot) -&gt;
+    super @robot
+    @robot.notice = (user, strings...) -&gt;
+      @adapter.notice user, strings...
+    @robot.Response = IrcResponse
+
   send: (user, strings...) -&gt;
     for str in strings
       if not str?
@@ -176,5 +182,9 @@ class IrcBot extends Adapter
 
     self.emit &quot;connected&quot;
 
+class IrcResponse extends Response
+  notice: (strings...) -&gt;
+    @robot.adapter.notice @message.user, strings...
+
 exports.use = (robot) -&gt;
   new IrcBot robot</code></pre></noscript></div>


<h3>データの永続化</h3>

<p>データの永続化はオプションになっていて、Redis以外にもMongoDBやAmazon S3とかファイルも選べるようになってる。<br/>
どれもhubot-scriptsのリポジトリに入っているので<code>hubot-scripts.json</code>に<code>["redis-brain.coffee"]</code>とか書く。<br/>
永続化のための*-brain.coffeeが読み込まれるとrobot.brain.dataが5秒おきに自動保存されるようになる。</p>

<p>ただし02/01/2013現在npm上で最新のhubot-scripts 2.4.1に入ってるredis-brain.coffeeは壊れてるので一つ前の2.2.2とか使うべき。</p>

<h3>forever</h3>

<p>簡単なdaemontoolsみたいなので便利なんだけど、logrotateの仕組みが無いのでログをいっぱい吐いてるとディスクを圧迫する。<br/>
かといってログをrmとかしちゃうとそこで書き込みが止まってしまうのでアレ。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[今月遊んだゲーム]]></title>
    <link href="http://blog.feelmy.net/2013/01/31/played-games/"/>
    <updated>2013-01-31T22:00:00+09:00</updated>
    <id>http://blog.feelmy.net/2013/01/31/played-games</id>
    <content type="html"><![CDATA[<h2><a href="http://store.steampowered.com/app/107100/">Bastion</a> ¥327</h2>

<p>楽しいアクションゲームだった。見た目も綺麗。<br/>
ストーリーはイミフ。</p>

<h2><a href="http://store.steampowered.com/app/204360/">Castle Crashers</a> ¥339</h2>

<p>Coopすべく買ったが難しいのでやらなくなってしまった。<br/>
糞ゲー(汚い意味で)</p>

<h2><a href="http://store.steampowered.com/app/219150/">Hotline Miami</a> ¥222</h2>

<p>ゲームとしては凄くシンプルだけどちゃんと面白い。<br/>
2chのスレにあったストーリーまとめみたいなのを読んだら更に面白くなった。</p>

<h2><a href="http://steamcommunity.com/app/115120">Iron Brigade</a> ¥97</h2>

<p>メカモノ好きだしタワーディフェンスのCoopは楽しい。機体に個性出るのも良い。<br/>
Coop誘うのSteamじゃなくてGames for Windows Live経由なのがダルいしたまにバグる。</p>

<h2><a href="http://steamcommunity.com/app/57740">Jagged Alliance - Back in Action</a> ¥0</h2>

<p>バランス調整Mod入れたら普通に遊べてるし珍しいジャンルなのでそこそこ楽しいけど全体的に作りこみが浅い。<br/>
リメイク元の1999年発売のやつの方が良く出来てるとか聞いた。</p>

<h2><a href="http://store.steampowered.com/app/211360/">Offspring Fling!</a> ¥65</h2>

<p>普通のパズルゲーっぽい。
見た目は可愛い。</p>

<h2><a href="http://steamcommunity.com/app/99300">Renegade Ops</a> ¥0</h2>

<p>敵なぎ倒す系のCoopは単純かつ楽しくていい。<br/>
左手パッド右手マウスでやりたいけどできない。マップ表示がクソい。</p>

<h2><a href="http://steamcommunity.com/app/207040">Sine Mora</a> ¥155</h2>

<p>シューティングゲームだけど一発終了なタイプじゃないから普通に遊べてる。<br/>
でもやっぱ目が疲れるのでアレ。</p>

<h2><a href="http://store.steampowered.com/app/91100/">SkyDrift</a> ¥90</h2>

<p>仲間内でレースすると最高に盛り上がる。もちろんSkype有りで。<br/>
空飛ぶマリカーっぽいけどコース数少ない、バランス悪いとかあるのでPC版マリカー早く！</p>

<h2><a href="http://steamcommunity.com/app/50300">Spec Ops: The Line</a> ¥425</h2>

<p>久しぶりのストーリー重視のTPSで楽しめた。後味の良いストーリーではないけどわりと満足。MultiplayとCoopは未プレイ。<br/>
実績47/50まで8時間足らずというボリュームの少なさはやや寂しいけど物語長引いても面白く無いからこんなもんかも。</p>

<h2><a href="http://store.steampowered.com/app/105600/">Terraria</a> ¥224</h2>

<p>石掘ってると無心になれる。サーバ立てればみんなで一緒に遊べるし、協力して掘ったり戦ったり楽しい。<br/>
次作早くやりたい。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[年末年始にゲーム35本買ったのでその一覧]]></title>
    <link href="http://blog.feelmy.net/2013/01/10/holiday-sale/"/>
    <updated>2013-01-10T00:00:00+09:00</updated>
    <id>http://blog.feelmy.net/2013/01/10/holiday-sale</id>
    <content type="html"><![CDATA[<h2>DRM: Origin</h2>

<ul>
<li>Crysis ¥750</li>
<li>Crysis Warhead ¥750</li>
<li>Crysis 2 ¥1000</li>
</ul>


<p>¥2500</p>

<h2>DRM: Steam</h2>

<ul>
<li>Bastion ¥327</li>
<li>Castle Crashers (4 Pack) ¥1357</li>
<li>Darksiders Franchise Pack (1+2+DLC) ¥1243</li>
<li>Hotline Miami ¥222</li>
<li>Max Payne 3 ¥1310</li>
<li>Renegade Ops ¥0(もらった)</li>
<li>Sine Mora ¥155</li>
<li>SkyDrift (*5) ¥449</li>
<li>Sleeping Dogs + Dragon Master Pack ¥723</li>
<li>Spec Ops: The Line ¥425</li>
<li>Terraria (4 Pack) ¥897</li>
<li>The Humble Indie Bundle 7 ¥586

<ul>
<li>Cave Story+</li>
<li>Closure</li>
<li>Dungeon Defenders + All DLC</li>
<li>Legend of Grimrock</li>
<li>Offspring Fling</li>
<li>Shank 2</li>
<li>Snapshot</li>
<li>The Basement Collection</li>
<li>The Binding of Isaac + Wrath of the Lamb DLC</li>
</ul>
</li>
<li>Toki Tori ¥44</li>
<li>Torchlight II ¥872</li>
</ul>


<h2>合計</h2>

<p>35本 ¥11110</p>

<h2>いろいろ</h2>

<p>回線がやっと光になったのと、最近PCでゲームあんまりやってないなと思ったのでセール情報に貼り付いてたくさん買ってみた。<br/>
効率的にセール情報を得るためにredditの<a href="http://en.reddit.com/r/GameDeals/new/?sort=new" title="newest submissions : GameDeals">newest submissions : GameDeals</a>の新着をポストする<a href="https://twitter.com/gamedealsbot" title="r/GameDeals/new/ (GameDealsBot)さんはTwitterを使っています">Twitter bot</a>作ったけど何故か即凍結されたのでIkachanでIRCに流すことになった。</p>

<p>そういえば動画かなんかを見ただけでやってないな。ってことで買ったCrysisシリーズがちょっと高いというかEA Japanのセールがしょぼい。
挙句の果てに2は面白くなかった。<br/>
あとやっぱOriginとかUplayとか微妙すぎると思うので早くSteamに合流しちゃってほしい。</p>

<p>もらったRenegade Opsとか4packを買ったTerraria, Castle CrashersはCoop用。<br/>
Terrariaのマルチが思っていた以上に楽しくて年末年始はずっとやってた。<br/>
<a href="https://github.com/TShock/TShock" title="TShock/TShock · GitHub">TShock</a>っていう非公式なdedicated serverがよくできていてMono使うとLinuxでも動くし素晴らしい。<br/>
サーバのたて方とかは<a href="http://blog.feelmy.net/2013/01/05/terraria-server-with-ubuntu-server-12.04/" title="さくらのVPS 2G(Ubuntu 12.04)でTerrariaServer(TShock)を動かす - おいら屋ファクトリー">さくらのVPS 2G(Ubuntu 12.04)でTerrariaServer(TShock)を動かす</a>にまとめた。</p>

<p>GamersGateで$2.84だったTom Clancy&#8217;s Ghost Recon: Future Soldierを逃してしまったのを悲しんでいたらその前後のBethesda CollectionとかBorderlands2 4Packとかも合わせて返金騒ぎになってた。</p>

<p>Steamだと日本語字幕入りな代わりにおま値$79.99で買うことはまずないであろうと思っていたSleeping Dogsが、ホリデーセール延長開始時に91%になっていたので飛びついておいた。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[さくらのVPS 2G(Ubuntu 12.04)でTerrariaServer(TShock)を動かす]]></title>
    <link href="http://blog.feelmy.net/2013/01/05/terraria-server-with-ubuntu-server-12.04/"/>
    <updated>2013-01-05T20:33:00+09:00</updated>
    <id>http://blog.feelmy.net/2013/01/05/terraria-server-with-ubuntu-server-12.04</id>
    <content type="html"><![CDATA[<h2>サーバーのセットアップ</h2>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo apt-get install mono-complete
</span><span class='line'>wget https://github.com/downloads/TShock/TShock/TShock-4.0.zip
</span><span class='line'>unzip TShock-4.0.zip
</span><span class='line'>mv serverplugins ServerPlugins
</span><span class='line'>mono TerrariaServer.exe
</span><span class='line'>  # 初期設定ではボス召喚アイテムが使えないので許可する
</span><span class='line'>  modgroup add guest summonboss</span></code></pre></td></tr></table></div></figure>


<h2>クライアントから管理者登録</h2>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>/auth *******
</span><span class='line'>/user add ebith:******** superadmin
</span><span class='line'>/login ebith ********
</span><span class='line'>/auth-verify</span></code></pre></td></tr></table></div></figure>


<h2>運用において</h2>

<p><code>tmux new -s terraria</code>とかしておくとでサーバーコンソールがどこからでも使えて便利。<br/>
サーバーの基本的な設定は<code>tshock/config.json</code>を直接書き換える。<a href="https://tshock.atlassian.net/wiki/display/TSHOCKPLUGINS/Configuration+File+Docs" title="Configuration File Docs - TShock Documentation - Confluence">Configuration File Docs</a>を参照。<br/>
<code>group perm guest</code>でguestユーザが使えるコマンド一覧が表示される。<code>modgroup (add|del) guest hoge</code>で権限操作。<a href="https://tshock.atlassian.net/wiki/pages/viewpage.action?pageId=3047433" title="Commands/Permissions list - TShock Documentation - Confluence">Commands/Permissions list</a>がコマンド一覧。<br/>
サーバーに接続しただけの未登録ユーザはguestに所属する。身内向けならサーバーパスワード有りにして管理者以外は全員guestが楽そう。権限管理的な意味で。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Vimperatorを便利に使うためのtips]]></title>
    <link href="http://blog.feelmy.net/2012/12/22/useful-tips-for-vimperator/"/>
    <updated>2012-12-22T00:00:00+09:00</updated>
    <id>http://blog.feelmy.net/2012/12/22/useful-tips-for-vimperator</id>
    <content type="html"><![CDATA[<p><a href="http://atnd.org/events/34070" title="Vimperator Advent Calendar 2012 : ATND">Vimperator Advent Calendar 2012</a> 22日目担当のebithです。<br/>
今日はgistで公開されているプラグインや各ユーザのrcにある便利な設定など、<a href="http://vimpr.github.com/" title="Welcome to vimpr!">vimpr</a>のプラグインリポジトリ外のものを紹介します。</p>

<h2>QB.js (<a href="https://gist.github.com/1766649" title="QB.js 2012/02/08 現在使っているバージョン">https://gist.github.com/1766649</a>)</h2>

<p>コマンドラインへメッセージを表示するechoをGrowlへの通知に変更するプラグインです。<br/>
<a href="https://addons.mozilla.org/ja/firefox/addon/growlgntp/" title="Growl/GNTP :: Add-ons for Firefox">Growl/GNTP</a>のアドオンが必要になりますがWindows/Linux/Macなど各種OSで使用できます。<br/>
webサービスを利用するためのプラグインはコマンドの正否にechoが使われることが多いので、そういったプラグインを入れている人にはオススメです。</p>

<h2>コマンドラインを <Esc> でもあなたのこと、忘れない!! (<a href="https://gist.github.com/2944628" title="コマンドラインを &lt;Esc&gt; でもあなたのこと、忘れない!!">https://gist.github.com/2944628</a>)</h2>

<p>途中でESCを押して消してしまった入力を履歴に残します。<br/>
入力途中にググりたくなっても安心です。</p>

<h2>lazy command</h2>

<p>コマンドを遅延実行します。<br/>
プラグインが読み込まれないと実行できないコマンドを.vimperatorrcに書けるようになります。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># lazyコマンドを定義
</span><span class='line'>command! -nargs=+ lazy autocmd VimperatorEnter .* &lt;args&gt;
</span><span class='line'>
</span><span class='line'># URL補完の設定。はてなブックマーク拡張のHとadd-url-completer.twのTに遅延実行が必要
</span><span class='line'>lazy set complete=slHT
</span><span class='line'>
</span><span class='line'># loginManager.js用。各種Webサービスに自動的にログインする
</span><span class='line'>lazy :login hatena
</span><span class='line'>lazy :login livedoor
</span><span class='line'>lazy :login nicovideo</span></code></pre></td></tr></table></div></figure>


<h2>autocmd 駆動時のエコーをやめる (<a href="https://gist.github.com/1028562" title="autocmd 駆動時のエコーをやめる">https://gist.github.com/1028562</a>)</h2>

<p>autocmdが静かになります。<br/>
autocmdは自動処理のためのもので<code>:help :autocmd</code>に詳しく書かれています。</p>

<figure class='code'><figcaption><span>便利なautocmd一例</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='vim'><span class='line'><span class="c">&quot; Gmail/LDR/はてブでは新規タブをバックグラウンドで開く</span>
</span><span class='line'>autocmd LocationChange <span class="s1">&#39;^(?!https?://(mail\.google\.com/(mail|a)/|reader\.livedoor\.com/reader/|b\.hatena\.ne\.jp/(?!(entry|articles|guide))))&#39;</span> :<span class="k">set</span><span class="p">!</span> browser.<span class="k">tabs</span>.loadDivertedInBackground<span class="p">=</span>false
</span><span class='line'>autocmd LocationChange <span class="s1">&#39;^https?://(mail\.google\.com/(mail|a)/|reader\.livedoor\.com/reader/|b\.hatena\.ne\.jp/(?!(entry|articles|guide)))&#39;</span> :<span class="k">set</span><span class="p">!</span> browser.<span class="k">tabs</span>.loadDivertedInBackground<span class="p">=</span>true
</span></code></pre></td></tr></table></div></figure>


<h2>サイト内検索</h2>

<p>Googleを使ってサイト内検索するコマンドです。<br/>
オリジナルより少し変更を加えていて、ディレクトリ名が必要な@wikiやはてなダイアリーに対応しています。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">nnoremap</span> <span class="p">,</span><span class="err">/ :sitesearch&lt;Space&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nx">javascript</span> <span class="o">&lt;&lt;</span><span class="nx">EOM</span>
</span><span class='line'><span class="nx">commands</span><span class="p">.</span><span class="nx">addUserCommand</span><span class="p">(</span>
</span><span class='line'>  <span class="p">[</span><span class="s1">&#39;sitesearch&#39;</span><span class="p">],</span>
</span><span class='line'>  <span class="s1">&#39;Search in this site&#39;</span><span class="p">,</span>
</span><span class='line'>  <span class="kd">function</span> <span class="p">(</span><span class="nx">args</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="kd">let</span> <span class="nx">url</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">content</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">hostname</span><span class="p">;</span>
</span><span class='line'>    <span class="p">[</span>
</span><span class='line'>      <span class="sr">/d\.hatena\.ne\.jp/</span><span class="p">,</span>
</span><span class='line'>      <span class="sr">/www\d+\.atwiki\.jp/</span><span class="p">,</span>
</span><span class='line'>    <span class="p">].</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">r</span><span class="p">){</span>
</span><span class='line'>      <span class="nx">url</span> <span class="o">+=</span> <span class="nx">r</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">url</span><span class="p">)</span> <span class="o">?</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="nb">window</span><span class="p">.</span><span class="nx">content</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">pathname</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span> <span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
</span><span class='line'>    <span class="p">});</span>
</span><span class='line'>    <span class="nx">liberator</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span>
</span><span class='line'>      <span class="s1">&#39;http://www.google.com/search?q=&#39;</span> <span class="o">+</span>
</span><span class='line'>        <span class="nb">encodeURIComponent</span><span class="p">(</span><span class="nx">args</span><span class="p">.</span><span class="nx">literalArg</span><span class="p">)</span> <span class="o">+</span>
</span><span class='line'>        <span class="s1">&#39;+site%3A&#39;</span> <span class="o">+</span>
</span><span class='line'>        <span class="nx">url</span><span class="p">,</span>
</span><span class='line'>      <span class="nx">liberator</span><span class="p">.</span><span class="nx">NEW_TAB</span>
</span><span class='line'>    <span class="p">);</span>
</span><span class='line'>  <span class="p">},</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>    <span class="nx">completer</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">context</span><span class="p">)</span> <span class="nx">completion</span><span class="p">.</span><span class="nx">url</span><span class="p">(</span><span class="nx">context</span><span class="p">,</span> <span class="s1">&#39;S&#39;</span><span class="p">),</span>
</span><span class='line'>    <span class="nx">literal</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
</span><span class='line'>  <span class="p">},</span>
</span><span class='line'>  <span class="kc">true</span>
</span><span class='line'><span class="p">);</span>
</span><span class='line'><span class="nx">EOM</span>
</span></code></pre></td></tr></table></div></figure>


<h2>vimpMonkey <a href="http://d.hatena.ne.jp/wlt/20110105/1294204461" title="VimperatorでGreasemonkeyみたいな事をする - wltの日記">http://d.hatena.ne.jp/wlt/20110105/1294204461</a></h2>

<p>VimperatorでGreasemonkeyみたいな事をするためのユーティリティ関数です。<br/>
例では@wikiのページタイトルの前後を入れ替えています。ツリー型タブユーザにオススメです。</p>

<figure class='code'><figcaption><span>vimpMonkey一例</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">javascript</span> <span class="o">&lt;&lt;</span><span class="nx">EOM</span>
</span><span class='line'><span class="c1">// @wikiのページタイトル - を区切りに前後入れ替え</span>
</span><span class='line'><span class="nx">vimpMonkey</span><span class="p">(</span><span class="s1">&#39;http://www\\d+\\.atwiki\\.jp&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>  <span class="nx">content</span><span class="p">.</span><span class="nb">document</span><span class="p">.</span><span class="nx">title</span> <span class="o">=</span> <span class="nx">content</span><span class="p">.</span><span class="nb">document</span><span class="p">.</span><span class="nx">title</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/(.*) - (.*)/</span><span class="p">,</span> <span class="s1">&#39;$2 - $1&#39;</span><span class="p">);</span>
</span><span class='line'><span class="p">});</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// VimperatorでGreasemonkeyみたいな事をする - wltの日記 - http://d.hatena.ne.jp/wlt/20110105/1294204461</span>
</span><span class='line'><span class="kd">function</span> <span class="nx">vimpMonkey</span><span class="p">(</span><span class="nx">urlRegexPattern</span><span class="p">,</span> <span class="nx">func</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">cmd</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="s1">&#39;(function(args) {&#39;</span> <span class="o">+</span>
</span><span class='line'>    <span class="s1">&#39;var content = tabs.getTab(args.tab - 1).linkedBrowser.contentWindow;&#39;</span> <span class="o">+</span>
</span><span class='line'>    <span class="s1">&#39;var unsafeContent = content.wrappedJSObject;&#39;</span> <span class="o">+</span>
</span><span class='line'>    <span class="nx">func</span><span class="p">.</span><span class="nx">toSource</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;();&#39;</span> <span class="o">+</span>
</span><span class='line'>  <span class="s1">&#39;})&#39;</span><span class="p">);</span>
</span><span class='line'>  <span class="nx">autocommands</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;PageLoad&#39;</span><span class="p">,</span> <span class="nx">urlRegexPattern</span><span class="p">,</span> <span class="nx">cmd</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="nx">EOM</span>
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Vimperatorで快適Twitter]]></title>
    <link href="http://blog.feelmy.net/2012/12/13/vimperator-is-a-powerful-twitter-client/"/>
    <updated>2012-12-13T00:00:00+09:00</updated>
    <id>http://blog.feelmy.net/2012/12/13/vimperator-is-a-powerful-twitter-client</id>
    <content type="html"><![CDATA[<p><a href="http://atnd.org/events/34070" title="Vimperator Advent Calendar 2012 : ATND">Vimperator Advent Calendar 2012</a> 13日目、二週目に突入のebithです。<br/>
今日はVimperatorプラグインの中でお気に入りの一つであるTwittperatorとそのプラグイン群の紹介をしたいと思います。</p>

<h2>Twittperatorとは</h2>

<p>Streamimg APIにいち早く対応したTwitterクライアントであり、Vimperatorのプラグインでもあります。<br/>
ツイートすることやタイムラインの表示の他にRTやFavはもちろん、会話(in_reply_to)を辿ったり、Twitterを検索したり、特定のツイート(status)のページや誰かのホームを開いたりと言ったことがコマンドラインから可能です。<br/>
また、プラグインを作ることによって自由度の高い拡張が可能で既に幾つものプラグインが存在しています。</p>

<h2>使ってみる</h2>

<p><a href="https://raw.github.com/vimpr/vimperator-plugins/master/twittperator.js">twittperator.js</a>を読み込み、<code>:tw -getPIN</code>で得たPINコードを<code>:tw -setPIN</code>でセットすることで使えるようになります。<br/>
基本的な使い方は<code>:tw</code>コマンドからの補完や<code>:help twittperator</code>を参考にしてください。<br/>
また、一例として少しだけ設定を書いておくので必要に応じて.vimperatorrcに書き足すと良いと思います。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
</pre></td><td class='code'><pre><code class='vim'><span class='line'><span class="c">&quot; Twitterへの接続がSSLのみになったので、Twittperator側でもSSLを使うように</span>
</span><span class='line'><span class="k">let</span> <span class="k">g</span>:twittperator_use_ssl_connection_for_api_ep <span class="p">=</span> <span class="m">1</span>
</span><span class='line'>
</span><span class='line'><span class="c">&quot; Streaming APIを使う</span>
</span><span class='line'><span class="k">let</span> <span class="k">g</span>:twittperator_use_chirp <span class="p">=</span> <span class="m">1</span>
</span><span class='line'>
</span><span class='line'><span class="c">&quot; 特定の単語を含むツイートを追いかける</span>
</span><span class='line'><span class="k">let</span> <span class="k">g</span>:twittperator_track_words <span class="p">=</span> <span class="s2">&quot;vimp,vimperator,twittperator,ついっぺ,ツイッペ&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="c">&quot; Twitter IDの設定。いくつかのプラグインで必要</span>
</span><span class='line'><span class="k">let</span> <span class="k">g</span>:twittperator_screen_name <span class="p">=</span> <span class="s2">&quot;ebith&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="c">&quot; タイムラインの表示</span>
</span><span class='line'><span class="nb">nnoremap</span> <span class="p">,</span>wl :<span class="nb">tw</span><span class="p">&lt;</span>CR<span class="p">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="c">&quot; ツイートする</span>
</span><span class='line'><span class="nb">nnoremap</span> <span class="p">,</span><span class="nb">ww</span> :<span class="nb">tw</span><span class="p">&lt;</span>Space<span class="p">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="c">&quot; 返信する</span>
</span><span class='line'><span class="nb">nnoremap</span> <span class="p">,</span>wr :<span class="nb">tw</span><span class="p">&lt;</span>Space<span class="p">&gt;</span>@
</span><span class='line'>
</span><span class='line'><span class="c">&quot; ツイートに含まれるURLを開く</span>
</span><span class='line'><span class="nb">nnoremap</span> <span class="p">,</span><span class="k">w</span><span class="sr">/ :tw!/</span><span class="p">&lt;</span>Tab<span class="p">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="c">&quot; 会話を辿る</span>
</span><span class='line'><span class="nb">nnoremap</span> <span class="p">,</span>wt :<span class="nb">tw</span><span class="p">!</span>thread<span class="p">&lt;</span>Space<span class="p">&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<h2>個性あふれるプラグイン群</h2>

<p>Twittperatorには数々の便利なプラグインが提供されています。<br/>
ここでそれらの一部を紹介します。<br/>
<a href="https://github.com/vimpr/vimperator-plugins/tree/master/twittperator" title="vimperator-plugins/twittperator at master · vimpr/vimperator-plugins · GitHub">https://github.com/vimpr/vimperator-plugins/tree/master/twittperator</a>からダウンロード可能です。</p>

<h3>add-url-completer</h3>

<p><a href="http://vimperator.g.hatena.ne.jp/nokturnalmortum/20110704/1309706089" title="Twittperator の履歴から URL を取り出して、:tabopen などで補完できるようにする - Death to false Web browser! - vimperatorグループ">Twittperator の履歴から URL を取り出して、:tabopen などで補完できるようにする</a></p>

<h3>colorful-log-writer</h3>

<p><a href="http://www.flickr.com/photos/ebith/5674571479/" title="colorful-log-writer | Flickr - Photo Sharing!">tail -fするとカラフルなTLが流れてくるファイルを書き出すTwittperatorプラグイン</a></p>

<h3>eject-alert</h3>

<p><a href="http://vimperator.g.hatena.ne.jp/nokturnalmortum/20120317/1331979169" title="音を鳴らしたりできない環境で、reply に気づけるようにする便利な Twittperator プラグイン - Death to false Web browser! - vimperatorグループ">音を鳴らしたりできない環境で、reply に気づけるようにする便利な Twittperator プラグイン</a></p>

<h3>pong</h3>

<p><a href="http://vimperator.g.hatena.ne.jp/nokturnalmortum/20110330/1301495775" title="Twitter で超反応するための Twittperator 用プラグイン - Death to false Web browser! - vimperatorグループ">Twitter で超反応するための Twittperator 用プラグイン</a></p>

<h3>twsidebar</h3>

<p><a href="http://vimperator.g.hatena.ne.jp/nokturnalmortum/20111102/1320245517" title="サイドバーにTL表示をするプラグイン - Death to false Web browser! - vimperatorグループ">サイドバーにTL表示をするプラグイン</a></p>

<h3>twsidebar-expand-url</h3>

<p><a href="http://d.hatena.ne.jp/ebith/20120808/1344429639" title="短縮URLを展開するTwittperatorプラグイン(twsidebar向け) - おいら屋ファクトリー">短縮URLを展開するTwittperatorプラグイン(twsidebar向け)</a><br/>
画像のサムネイルを表示したり、ツイートを展開表示する機能も付いています</p>

<h3>urusai-namakubi</h3>

<p><a href="http://chi.usamimi.info/Program/Application/BouyomiChan/" title="棒読みちゃん ～ 音声合成で日本語文章を読み上げるツール">棒読みちゃん</a>にタイムラインを読み上げさせるプラグイン。namakubi.js(Vimperatorプラグイン)も必要になります</p>

<h2>最後に</h2>

<p>普段はtwsidebar+twsidebar-expand-urlでタイムラインを流しながらブラウジングして、目に付くツイートがあればコマンドラインからURLを開いたり会話を辿ったりしています。<br/>
僕の.vimperatorrcのTwittperator関連部分を抜き出したものも用意しておきましたので良ければ参考にしてください。<br/>
<a href="https://gist.github.com/4264015">https://gist.github.com/4264015</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Vimperatorプラグインを書いてみたい人のためのtips]]></title>
    <link href="http://blog.feelmy.net/2012/12/04/vimperator-plugin-dev-tips/"/>
    <updated>2012-12-04T00:00:00+09:00</updated>
    <id>http://blog.feelmy.net/2012/12/04/vimperator-plugin-dev-tips</id>
    <content type="html"><![CDATA[<p><a href="http://atnd.org/events/34070" title="Vimperator Advent Calendar 2012 : ATND">Vimperator Advent Calendar 2012</a> 4日目のebithです。<br/>
今日はVimperatorプラグインを書いてみたい、もしくは書こうとは思ったけど良くわからなかった人向けの情報などを紹介します。<br/>
だいたいは僕がプラグインを作り始めた時に困ったりハマったりしたことですが、お役に立てれば幸いです。</p>

<h2>そもそもどう書けば良いの</h2>

<p><a href="https://github.com/vimpr/vimperator-plugins/blob/master/function-template.js" title="vimperator-plugins/function-template.js at master · vimpr/vimperator-plugins">サンプル用のプラグイン</a>にプラグインには欠かせないコマンドやマッピングなどの定義例が書いてあります。<br/>
また、<a href="https://github.com/vimpr/vimperator-plugins" title="vimpr/vimperator-plugins">vimpr/vimperator-plugins</a>には200近いプラグインがあるので参考になるはずです。</p>

<h2>プラグイン作るときに便利なやつ</h2>

<h3>ライブラリ</h3>

<p>Vimperator組込みの<code>util</code>や<a href="https://github.com/vimpr/vimperator-plugins/blob/master/_libly.js" title="vimperator-plugins/_libly.js at master · vimpr/vimperator-plugins">_libly.js</a>があります。</p>

<h3>コマンド</h3>

<p><code>:js</code>や<code>:echo</code>を使えば手軽にJavaScriptを実行できます。例) <code>:echo util</code><br/>
<code>:source</code>がプラグインの再読み込みに使えます。</p>

<h3>プラグイン</h3>

<p><a href="https://github.com/vimpr/vimperator-plugins/blob/master/auto_source.js" title="vimperator-plugins/auto_source.js at master · vimpr/vimperator-plugins">auto_source.js</a> - 指定ファイルが変更されると自動的に:sourceします。<br/>
<a href="https://github.com/vimpr/vimperator-plugins/blob/master/echopy.js" title="vimperator-plugins/echopy.js at master · vimpr/vimperator-plugins">echopy.js</a> - echoしつつクリップボードにコピーします。</p>

<!--- [sitesearch](https://github.com/vimpr/vimperator-rc/blob/b6a3ef4de8a7befebbdbad56c1762423bbe1e7f7/anekos/.vimperatorrc.js#L595-L612 "vimperator-rc/anekos/.vimperatorrc.js at b6a3ef4de8a7befebbdbad56c1762423bbe1e7f7 · vimpr/vimperator-rc")
 Googleのサイト内検索を開く-->


<h3>プリントデバッグ</h3>

<p><code>:js!</code>で開くエラーコンソールに、liberator.log()で出力できます。<br/>
ログに残るタイプのechoであるliberator.echomsg()やliberator.echoerr()も便利です。<code>:messages</code>であとからでも読めます。</p>

<h2>既存の動作を変更するプラグインを書きたい</h2>

<p>_libly.jsの$U.aroundを使います。anekosさんの記事が詳しいです。<br/>
<a href="http://vimperator.g.hatena.ne.jp/nokturnalmortum/20100120/1263929847" title="Vimperator 本体のメソッドを書き換えるときの指針 - Death to false Web browser! - vimperatorグループ">Vimperator 本体のメソッドを書き換えるときの指針</a>、
<a href="http://vimperator.g.hatena.ne.jp/nokturnalmortum/20120811/1344688021" title="vimperator で、既存のコマンドにオレオレ動作を差しこむ - Death to false Web browser! - vimperatorグループ">vimperator で、既存のコマンドにオレオレ動作を差しこむ</a></p>

<h2>ググってもググっても情報出てこない</h2>

<p>プラグインに限らずVimperator全体に言えることですが、Googleなどで検索してもまとまった日本語の情報はイマイチ出てきません。<br/>
<a href="https://github.com/vimpr/vimperator-plugins" title="vimpr/vimperator-plugins">vimpr/vimperator-plugins</a>をgrepしたりしてなんとかしましょう。<br/>
JavaScript自体に関しては<a href="https://developer.mozilla.org/" title="Mozilla Developer Network">Mozilla Developer Network</a>が心強いです。</p>

<h2>最後に</h2>

<p>やってみると案外なんとかなるもので、単なるソフトウェアオタクでも少しはプラグイン書けるようになりました。<br/>
多くの人がプラグインを書けばそれだけVimperatorが便利になってみんなが幸せなので是非ともチャレンジしてください。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[iGoogleのDays Since(あれやってから何日経ったっけを管理するやつ)クローン作った]]></title>
    <link href="http://blog.feelmy.net/2012/11/24/days-since-app/"/>
    <updated>2012-11-24T22:43:00+09:00</updated>
    <id>http://blog.feelmy.net/2012/11/24/days-since-app</id>
    <content type="html"><![CDATA[<p><img src="https://raw.github.com/ebith/DaysSince/master/public/images/sample.png" alt="" /><br/>
こういうやつ。<br/>
オリジナルは<a href="http://leancode.com/dayssince/" title="Days Since | Leancode">Days Since | Leancode</a>で、今回作ったのが<a href="http://dayssince.feelmy.net/" title="Days Since">Days Since</a>。</p>

<p>Webアプリ的なやつ形にするのって8年ぶりとかな気がするけど便利なフレームワークとかのおかげでググりまくるだけでそれっぽくできたし素晴らしい時代になった。<br/>
今回お世話になったのはPadrino, ActiveRecord, SQLite, Slim, jQuery, Twitter Bootstrapその他いっぱい。</p>

<p>リポジトリは<a href="https://github.com/ebith/DaysSince" title="ebith/DaysSince · GitHub">こっち</a>。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ブレイブリーデフォルトクリアした]]></title>
    <link href="http://blog.feelmy.net/2012/11/04/bravely-default-flying-fairy/"/>
    <updated>2012-11-04T05:23:00+09:00</updated>
    <id>http://blog.feelmy.net/2012/11/04/bravely-default-flying-fairy</id>
    <content type="html"><![CDATA[<div class="hatena-asin-detail">
  <a href="http://www.amazon.co.jp/%E3%82%B9%E3%82%AF%E3%82%A6%E3%82%A7%E3%82%A2%E3%83%BB%E3%82%A8%E3%83%8B%E3%83%83%E3%82%AF%E3%82%B9-%E3%83%96%E3%83%AC%E3%82%A4%E3%83%96%E3%83%AA%E3%83%BC%E3%83%87%E3%83%95%E3%82%A9%E3%83%AB%E3%83%88/dp/B008F29CRM%3FSubscriptionId%3DAKIAJVATSFYOD4ND3TIA%26tag%3Debith-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3DB008F29CRM"><img src="http://ecx.images-amazon.com/images/I/51BdKmAou-L._SL160_.jpg" class="hatena-asin-detail-image" alt="ブレイブリーデフォルト" title="ブレイブリーデフォルト"></a>
  <div class="hatena-asin-detail-info">
    <p class="hatena-asin-detail-title"><a href="http://www.amazon.co.jp/%E3%82%B9%E3%82%AF%E3%82%A6%E3%82%A7%E3%82%A2%E3%83%BB%E3%82%A8%E3%83%8B%E3%83%83%E3%82%AF%E3%82%B9-%E3%83%96%E3%83%AC%E3%82%A4%E3%83%96%E3%83%AA%E3%83%BC%E3%83%87%E3%83%95%E3%82%A9%E3%83%AB%E3%83%88/dp/B008F29CRM%3FSubscriptionId%3DAKIAJVATSFYOD4ND3TIA%26tag%3Debith-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3DB008F29CRM">ブレイブリーデフォルト</a></p>
    <ul>

      <li><span class="hatena-asin-detail-label">出版社/メーカー:</span> スクウェア・エニックス</li>
      <li><span class="hatena-asin-detail-label">発売日:</span> 2012-10-11</li>
      <li><span class="hatena-asin-detail-label">メディア:</span> Video Game</li>
      <li><a href="http://www.amazon.co.jp/review/product/B008F29CRM%3FSubscriptionId%3DAKIAJVATSFYOD4ND3TIA%26tag%3Debith-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D5143%26creativeASIN%3DB008F29CRM">Amazon のレビューを見る</a></li>
    </ul>
  </div>
  <div class="hatena-asin-detail-foot"></div>
</div>


<p>よくできたJPRGって感じでそこそこ楽しんだ。<br/>
誰にでもオススメできるわけじゃないけどFFっぽいRPGやりたいならアリなんじゃないかな。<br/>
9999*2(刀流)*5(回行動)*2(人)を毎ターンできるのとか楽しい。</p>

<h3>良かったとこ</h3>

<ul>
<li>安定のジョブシステム</li>
<li>ブレイブシステムでテンポ良い戦闘</li>
</ul>


<h3>悪かったとこ</h3>

<ul>
<li>主人公たちの性格とか会話がイマイチに感じた。ストーリー外の話とかだと違和感無かったんでなんか勿体ない感じ。</li>
<li>中盤以降ストーリーの盛り上がりに欠ける上に徒歩移動が増えて、エンカウント率の高さも相まってストレス。</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Chromeのロールトップ バックパック買った]]></title>
    <link href="http://blog.feelmy.net/2012/10/25/i-bought-a-chrome-pawn-rolltop-pack/"/>
    <updated>2012-10-25T22:16:00+09:00</updated>
    <id>http://blog.feelmy.net/2012/10/25/i-bought-a-chrome-pawn-rolltop-pack</id>
    <content type="html"><![CDATA[<p>普段からChromeのメッセンジャーバッグを使っていてお気に入りなんだけど、<br/>
バックパックも欲しくなったので <a href="http://www.chromebagsstore.com/bags/packs/pawn-rolltop-pack.html" title="Chrome Pawn Roll-Top Backpack | Chrome Industries">Chrome Pawn Roll-Top Backpack</a>と<a href="http://www.chromebagsstore.com/bags/accessories/accessory-pouch.html" title="Chrome Accessory Pouch | Chrome Industries">Chrome Accessory Pouch</a>を買った。<br/>
$170+$10(ポーチ10ドル値引きされた)+送料$65の$245で2万円。</p>

<p><a href="http://www.flickr.com/photos/ebith/8121760755/" title="Chrome Pawn Rolltop Pack 2/5 by Ebith, on Flickr"><img src="http://farm9.staticflickr.com/8324/8121760755_912e254605_n.jpg" width="239" height="320" alt="Chrome Pawn Rolltop Pack 2/5"></a>
<a href="http://www.flickr.com/photos/ebith/8121956238/" title="Chrome Pawn Rolltop Pack 5/5 by Ebith, on Flickr"><img src="http://farm9.staticflickr.com/8470/8121956238_184936630e_n.jpg" width="239" height="320" alt="Chrome Pawn Rolltop Pack 5/5"></a><br/>
表と裏</p>

<p><a href="http://www.flickr.com/photos/ebith/8121776998/" title="Chrome Pawn Rolltop Pack 1/5 by Ebith, on Flickr"><img src="http://farm9.staticflickr.com/8187/8121776998_6ec42977c5_n.jpg" width="239" height="320" alt="Chrome Pawn Rolltop Pack 1/5"></a>
<a href="http://www.flickr.com/photos/ebith/8121761479/" title="Chrome Pawn Rolltop Pack 3/5 by Ebith, on Flickr"><img src="http://farm9.staticflickr.com/8473/8121761479_c7c2762433_n.jpg" width="239" height="320" alt="Chrome Pawn Rolltop Pack 3/5"></a><br/>
防水布の外側には大小2個ずつのポケットが確保されてる。</p>

<p><a href="http://www.flickr.com/photos/ebith/8121777694/" title="Chrome Pawn Rolltop Pack 4/5 by Ebith, on Flickr"><img src="http://farm9.staticflickr.com/8188/8121777694_be5bd534ca_n.jpg" width="239" height="320" alt="Chrome Pawn Rolltop Pack 4/5"></a><br/>
ターポリン製の内布。外布も少々の水ぐらい弾くし、この内布で鉄壁の防御なのでPCなんかも安心。</p>

<p>おまけにメッセンジャーバッグ(Citizen)の写真も載せとく<br/>
<a href="http://www.flickr.com/photos/ebith/8121778014/" title="Chrome Citizen Buckle Bag 1/4 by Ebith, on Flickr"><img src="http://farm9.staticflickr.com/8055/8121778014_7dcc2c72e8_n.jpg" width="320" height="239" alt="Chrome Citizen Buckle Bag 1/4"></a>
<a href="http://www.flickr.com/photos/ebith/8121762445/" title="Chrome Citizen Buckle Bag 2/4 by Ebith, on Flickr"><img src="http://farm9.staticflickr.com/8055/8121762445_5e7d38c7eb_n.jpg" width="320" height="239" alt="Chrome Citizen Buckle Bag 2/4"></a><br/>
<a href="http://www.flickr.com/photos/ebith/8121762795/" title="Chrome Citizen Buckle Bag 3/4 by Ebith, on Flickr"><img src="http://farm9.staticflickr.com/8465/8121762795_c16a33f76a_n.jpg" width="320" height="239" alt="Chrome Citizen Buckle Bag 3/4"></a>
<a href="http://www.flickr.com/photos/ebith/8121763073/" title="Chrome Citizen Buckle Bag 4/4 by Ebith, on Flickr"><img src="http://farm9.staticflickr.com/8044/8121763073_3feb1cc725_n.jpg" width="320" height="239" alt="Chrome Citizen Buckle Bag 4/4"></a></p>

<p>土砂降りの雨の中をバイク移動でも何も心配することなくPCを運べる防水性は本当に頼もしいし<br/>
徒歩の時でも鞄濡れること気にしなくて良いのは楽なんですごくおすすめ。</p>

<p>なんだけど、国内だとメッセンジャーバッグぐらいしか買えない上に高いのが悲しいところで<br/>
ネットショップの方は国際電話しての購入確認があるのが不便だしで<br/>
購入のハードルが高いのはどうにかならないかなーって感じする。</p>

<p>今回初めて公式のネットショップから注文で、<br/>
当然電話が必要なこと知らなくて人生初の国際電話にかなりドキドキしたし<br/>
電話口のお兄さんの&#8217;Address&#8217;が聞き取れなくてちょっとアレな会話になったりしたのでもう頼まない。</p>

<p>鞄はお気に入りなんだけど。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Livedoor Readerのサブアカウントを切り替えるためのVimperatorプラグイン]]></title>
    <link href="http://blog.feelmy.net/2012/10/19/ldr-subaccount-switcher-for-vimperator/"/>
    <updated>2012-10-19T02:30:00+09:00</updated>
    <id>http://blog.feelmy.net/2012/10/19/ldr-subaccount-switcher-for-vimperator</id>
    <content type="html"><![CDATA[<div><script src='https://gist.github.com/3913442.js'></script>
<noscript><pre><code>(function(){

 let libly = plugins.libly;
 let apiKey;

 commands.addUserCommand(
   ['ldrSwitch'],
   'Livedoor Readerのサブアカウントを切り替える',
   function (args) {
    if (!args.length) {
      getAcc(function (accList) {
        switchAcc(apiKey, accList[0][0]);
      });
    } else {
      switchAcc(apiKey, args.literalArg);
    }
   },
   {
      literal: 0,
      completer: function (context) {
        context.incomplete = true;
        context.title = ['account'];
        context.compare = void 0;

        getAcc (function (accList) {
          context.completions = accList;
          context.incomplete = false;
        });

      }
    },
    true
  );

  function switchAcc (apiKey, acc) {
    let url = 'http://reader.livedoor.com/account/switch';
    let req = new libly.Request(url, null, {postBody: 'ApiKey=' + apiKey + '&amp;switch_to=' + acc});
    req.addEventListener('onSuccess', function (res) {
      liberator.echo('account switched: ' + acc);
    });
    req.post();
  }

  function getAcc (callback) {
    let url = 'http://reader.livedoor.com/subaccount';
    let req = new libly.Request(url);
    let accList = [];
    req.addEventListener('onSuccess', function (res) {
      apiKey = res.getHTMLDocument('//input[@name=&quot;ApiKey&quot;]')[0].value;
      res.getHTMLDocument('//input[@name=&quot;switch_to&quot;]').forEach(function (acc) {
        accList.push([acc.value, acc.value]);
      });
      callback(accList);
    });
    req.get();
  }

})();
</code></pre></noscript></div>


<p><code>ldrSwitch</code>コマンドが追加されるのでよしなにしてください。</p>

<h3>TODO?</h3>

<p>JSのエラーコンソールにやたらとセキュリティエラーが出ちゃうんだけどよくわからないのでそのままになってる。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[HDDのデータを念入りに消去する]]></title>
    <link href="http://blog.feelmy.net/2012/10/09/permanently-erase-disk/"/>
    <updated>2012-10-09T10:38:00+09:00</updated>
    <id>http://blog.feelmy.net/2012/10/09/permanently-erase-disk</id>
    <content type="html"><![CDATA[<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>sfdisk -l                   <span class="c"># 消したいディスクを確認する</span>
</span><span class='line'>shred -v -n 3 -z /dev/hoge  <span class="c"># ランダムデータを3回書き込んだのちゼロフィル</span>
</span></code></pre></td></tr></table></div></figure>


<p>大抵のディストリで可能らしいけど<a href="http://www.sysresccd.org/SystemRescueCd_Homepage" title="SystemRescueCd">SystemRescueCd</a>がシンプルで扱いやすい。</p>
]]></content>
  </entry>
  
</feed>
