<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: linux | おいら屋ファクトリー]]></title>
  <link href="http://blog.feelmy.net/blog/categories/linux/atom.xml" rel="self"/>
  <link href="http://blog.feelmy.net/"/>
  <updated>2013-03-29T00:50:36+09:00</updated>
  <id>http://blog.feelmy.net/</id>
  <author>
    <name><![CDATA[ebith]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[HDDのデータを念入りに消去する]]></title>
    <link href="http://blog.feelmy.net/2012/10/09/permanently-erase-disk/"/>
    <updated>2012-10-09T10:38:00+09:00</updated>
    <id>http://blog.feelmy.net/2012/10/09/permanently-erase-disk</id>
    <content type="html"><![CDATA[<p><code>sh
sfdisk -l                   # 消したいディスクを確認する
shred -v -n 3 -z /dev/hoge  # ランダムデータを3回書き込んだのちゼロフィル
</code>
大抵のディストリで可能らしいけど<a href="http://www.sysresccd.org/SystemRescueCd_Homepage" title="SystemRescueCd">SystemRescueCd</a>がシンプルで扱いやすい。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[VPSのバックアップをDropboxに取る]]></title>
    <link href="http://blog.feelmy.net/2012/09/17/server-backup-to-dropbox/"/>
    <updated>2012-09-17T09:30:00+09:00</updated>
    <id>http://blog.feelmy.net/2012/09/17/server-backup-to-dropbox</id>
    <content type="html"><![CDATA[<p>簡易的なバックアップで良いので取っておきたかったので、<br/>
tarで固めてlzoで圧縮してDropboxに送るバックアップスクリプト書いた。<br/>
<a href="http://www.andreafabrizi.it/?dropbox_uploader" title="BASH Dropbox Uploader">BASH Dropbox Uploader</a>が必要。</p>

<p><div><script src='https://gist.github.com/3735146.js'></script>
<noscript><pre><code>#!/bin/bash

# バックアップ対象ディレクトリ
target=&quot;/etc /home/ebith&quot;

# 除外パターン
exclude=(sites/www/rep2 .cpanm .rbenv)

# 一時ファイル
tempfile=&quot;/tmp/backup.tar.lzo&quot;

for v in ${exclude[@]}; do
  e=&quot;$e --exclude=$v&quot;
done

tar --lzop -cf $tempfile $target $e

./dropbox_uploader.sh upload $tempfile /backup/`basename $tempfile`</code></pre></noscript></div>
</p>

<p>DropboxのAPIからのアップロードが1ファイル150MBまでなので<br/>
ファイル分割とかできるといいかもしれないけど今んとこ必要ないので付いてない。</p>
]]></content>
  </entry>
  
</feed>
